<ul class="nav nav-tabs">
  <li class="nav-item">
    <%= link_to user_blocks_path, :class => ["nav-link", { :active => action_name == "index" }] do %>
      <%= t(".all_blocks") %>
      <% if action_name == "index" %>
        <span class="badge count-number">
          <%= @user_blocks_count %>
        </span>
      <% end %>
    <% end %>
  </li>
  <% if current_user&.blocks&.exists? %>
    <li class="nav-item">
      <%= link_to user_blocks_on_path(current_user), :class => ["nav-link", { :active => action_name == "blocks_on" && current_user == @user }] do %>
        <%= t(".blocks_on_me") %>
        <% if action_name == "blocks_on" && current_user == @user %>
          <span class="badge count-number">
            <%= @user_blocks_count %>
          </span>
        <% end %>
      <% end %>
    </li>
  <% end %>
  <% on_user = @user || @user_block&.user %>
  <% if on_user != current_user &&  on_user&.blocks&.exists? %>
    <li class="nav-item">
        <%= link_to user_blocks_on_path(on_user), :class => ["nav-link", { :active => action_name == "blocks_on" }] do %>
          <%= t(".blocks_on_user", :user => on_user.display_name) %>
          <% if action_name == "blocks_on" %>
            <span class="badge count-number">
              <%= @user_blocks_count %>
            </span>
          <% end %>
        <% end %>
    </li>
  <% end %>
  <% if current_user&.blocks_created&.exists? %>
    <li class="nav-item">
      <%= link_to user_blocks_by_path(current_user), :class => ["nav-link", { :active => action_name == "blocks_by" && current_user == @user }] do %>
        <%= t(".blocks_by_me") %>
        <% if action_name == "blocks_by" && current_user == @user %>
          <span class="badge count-number">
            <%= @user_blocks_count %>
          </span>
        <% end %>
      <% end %>
    </li>
  <% end %>
  <% by_user = @user || @user_block&.creator %>
  <% if by_user != current_user && by_user&.blocks_created&.exists? %>
    <li class="nav-item">
      <%= link_to user_blocks_by_path(by_user), :class => ["nav-link", { :active => action_name == "blocks_by" }] do %>
        <%= t(".blocks_by_user", :user => by_user.display_name) %>
        <% if action_name == "blocks_by" %>
          <span class="badge count-number">
            <%= @user_blocks_count %>
          </span>
        <% end %>
      <% end %>
    </li>
  <% end %>
  <% if @user_block %>
    <li class="nav-item">
      <%= link_to t(".block", :id => @user_block.id),
                  user_block_path(@user_block),
                  :class => ["nav-link", { :active => action_name == "show" }] %>
    </li>
  <% end %>
</ul>
